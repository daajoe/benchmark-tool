#!/bin/bash
#bash instance encoding translator_params clasp_params converter_params dflatconverter_params
#echo "bash instance encoding dflat/dynasp_params clasp_params converter_params dflatconverter_params output EDGE"
pid=$$
#clean ordering
#echo "" > g.inp.translator.$pid
echo $*
t="$5"
echo $t
echo "USING: $pid"
cat "$9" > "$t/inst.$pid"
echo > "$t/g.out.$pid"
echo "CLASPing..."
#echo "$t/inst.$pid" "$1" "$t/g.out.$pid" "$t/g.gr.out.$pid.gr"
cat "$t/inst.$pid" "$1" "$t/g.out.$pid" | /mnt/vg01/lv01/home/decodyn/src/benchmark-tool/programs/gringo  > "$t/g.gr.out.$pid.gr" 
/mnt/vg01/lv01/home/decodyn/src/benchmark-tool/programs/heuristics/callpot.sh "$t/inst.$pid" "$1" $pid "--configuration=$3" > "$t/g.g.out.$pid.out" 2> "$t/g.g.out.$pid"
echo "CLASP done"
#cat g.g.out.$pid >&2
cat "$t/g.g.out.$pid.out"

